<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css"
          href="http://server-sp-it/sites/wiki/Style%20Library/Printers/jquery-ui.min.css"/>
    <style>
        fieldset {
            border: 0;
        }

        label {
            display: block;
            margin: 30px 0 0 0;
        }

        select {
            width: 200px;
        }

        .overflow {
            height: 200px;
        }
    </style>
    <script>
        $(document).ready(function () {
            $("#dialog2").dialog({
                resizable: false,
                modal: true,
                buttons: [{text: "Добавить", click: addDataToTable}],
                autoOpen: false
            });

            $("#opener2").click(function () {
                addItemsDataToDialog();
                $("#dialog2").dialog("open");
            });

            $("#speed").selectmenu();

            function addDataToTable() {

                var data = {
                    count: $("#countForm").val()
                }
                console.log("Количество " + data.count);
                $("#dialog2").dialog("close");
            }

            function addItemsDataToDialog() {
                $.ajax({
                    url: "http://server-sp-it/sites/wiki/" + "/_api/web/lists/getbytitle('Тестовый список')/items",
                    method: "GET",
                    headers: {"Accept": "application/json; odata=verbose"},
                    success: function (data) {
                        var items = data.d.results;
                        var cartridgesData = [];
                        var cartridgeInternalField = "OData__x041a__x0430__x0440__x0442__x04";
                        for (var i = 0; i < items.length; i++) {
                            if ($.inArray(items[i][cartridgeInternalField], cartridgesData) === -1 && items[i][cartridgeInternalField] != null))
                            {
                                cartridgesData.push(items[i][cartridgeInternalField]);
                            }
                        }
                        $.each(cartridgesData, function (key, value) {
                            $('#mySelect')
                                    .append($("<option></option>")
                                            .attr("value", key)
                                            .text(value));
                        });
                    }, error: function (data) {
                        console.log("fail rest");
                    }
                });
            }
        });

    </script>
</head>
<body>

<div id="dialog2" title="Введите данные" class="ui-widget">
    <div><label>Картриж:</label></div>
    <div><select id="mySelect">
    </select></div>
    <div><label for="countForm">Количество:</label><input id="countForm"/></div>
</div>

<input type="button" value="Добавить " id="opener2">

</body>
</html>